<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Garagem Inteligente Unificada</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <h1>Garagem Inteligente Unificada</h1>
    </header>

    <nav id="main-nav">
        <ul>
            <li><a href="#" class="nav-link active-link" data-target="secao-garagem">Minha Garagem</a></li>
            <li><a href="#" class="nav-link" data-target="secao-adicionar">Adicionar Veículo</a></li>
            <li><a href="#" class="nav-link" data-target="secao-historico">Histórico Geral</a></li>
            <li><a href="#" class="nav-link" data-target="secao-agendamento">Agendar Serviço</a></li>
        </ul>
    </nav>

    <main id="app-content">
        <!-- Seção: Minha Garagem -->
        <section id="secao-garagem" class="content-section active-section">
            <h2>Minha Garagem</h2>
            <button id="btn-refresh-garagem">Limpar Filtros e Atualizar</button> <!-- Texto atualizado -->

            <!-- Campos de Filtro Adicionados -->
            <div class="filtros-garagem">
                 <div>
                     <label for="filtro-modelo">Filtrar por Modelo:</label>
                     <input type="text" id="filtro-modelo" placeholder="Digite parte do modelo...">
                 </div>
                 <div>
                     <label for="filtro-placa">Filtrar por Placa:</label>
                     <input type="text" id="filtro-placa" placeholder="Digite parte da placa...">
                 </div>
            </div>
            <!-- Fim dos Campos de Filtro -->

            <table id="garagem-table">
                <thead>
                    <tr>
                        <th>Placa</th>
                        <th>Modelo</th>
                        <th>Ano</th>
                        <th>Cor</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody id="garagem-tbody">
                    <!-- Veículos serão inseridos aqui pelo JavaScript -->
                    <tr><td colspan="5">Carregando veículos...</td></tr> <!-- Mensagem inicial -->
                </tbody>
            </table>
        </section>

        <!-- Seção: Adicionar Veículo -->
        <section id="secao-adicionar" class="content-section">
            <h2>Adicionar Novo Veículo</h2>
            <form id="form-add-veiculo">
                <div>
                    <label for="add-placa">Placa:</label>
                    <!-- Pattern atualizado para ser mais flexível na digitação, validação principal no JS -->
                    <input type="text" id="add-placa" name="placa" required placeholder="AAA-1234">
                </div>
                <div>
                    <label for="add-modelo">Modelo:</label>
                    <input type="text" id="add-modelo" name="modelo" required>
                </div>
                <div>
                    <label for="add-ano">Ano:</label>
                    <input type="number" id="add-ano" name="ano" required min="1900" max="2099">
                </div>
                <div>
                    <label for="add-cor">Cor:</label>
                    <input type="text" id="add-cor" name="cor" required>
                </div>
                <button type="submit">Adicionar Veículo</button>
            </form>
        </section>

        <!-- Seção: Histórico de Manutenções -->
        <section id="secao-historico" class="content-section">
            <h2>Histórico de Manutenções (<span id="historico-placa-selecionada">Geral</span>)</h2>
            <p>Selecione um veículo na garagem para ver o histórico específico ou veja o histórico geral abaixo.</p>
            <button id="btn-show-all-history">Mostrar Histórico Geral</button>
            <ul id="historico-lista">
                <!-- Histórico será inserido aqui -->
                <li class="historico-placeholder">Nenhum histórico para exibir ou veículo selecionado.</li>
            </ul>
        </section>

        <!-- Seção: Agendamento de Serviço -->
        <section id="secao-agendamento" class="content-section">
            <h2>Agendar Novo Serviço</h2>
            <form id="form-agendamento">
                 <div>
                    <label for="agendamento-placa-select">Veículo (Placa):</label>
                    <select id="agendamento-placa-select" name="placa" required>
                        <option value="">Selecione um veículo...</option>
                        <!-- Opções preenchidas por JS -->
                    </select>
                     <input type="hidden" id="agendamento-placa-hidden">
                </div>
                <div>
                    <label for="agendamento-servico">Serviço:</label>
                    <input type="text" id="agendamento-servico" name="servico" required placeholder="Ex: Troca de óleo, Revisão">
                </div>
                <div>
                    <label for="agendamento-data">Data:</label>
                    <input type="date" id="agendamento-data" name="data" required>
                </div>
                <button type="submit">Agendar Serviço</button>
            </form>
            <div id="agendamentos-futuros">
                <h3>Próximos Agendamentos</h3>
                <ul id="lista-agendamentos-futuros">
                    <!-- Agendamentos futuros listados aqui -->
                     <li class="agendamento-placeholder">Nenhum agendamento futuro.</li>
                </ul>
            </div>
        </section>

    </main>

    <footer>
        <div id="status-message" aria-live="polite"></div> <!-- Para feedback ao usuário -->
        <p>© 2024 Garagem Inteligente</p>
    </footer>

    <script src="scritp.js"></script>
</body>
</html>